(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{2691:function(e,t,n){Promise.resolve().then(n.bind(n,60471))},60471:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r,i,o=n(89075),a=n(50511),s=n.t(a,2),l=n(24637);n(46739);var c=n(72128),d=Symbol.for("react.lazy"),u=s[" use ".trim().toString()];function m(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===d&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var f=Symbol("radix.slottable");function g(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}var p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:n,...r}=e;if(m(n)&&"function"==typeof u&&(n=u(n._payload)),a.isValidElement(n)){var i,o,s;let e,l;let d=(e=null===(o=Object.getOwnPropertyDescriptor((i=n).props,"ref"))||void 0===o?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(s=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===s?void 0:s.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref,u=function(e,t){let n={...t};for(let r in t){let i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=o(...t);return i(...t),r}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==a.Fragment&&(u.ref=t?(0,c.F)(t,d):d),a.cloneElement(n,u)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),n=a.forwardRef((e,n)=>{let{children:r,...i}=e;m(r)&&"function"==typeof u&&(r=u(r._payload));let s=a.Children.toArray(r),l=s.find(g);if(l){let e=l.props.children,r=s.map(t=>t!==l?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,o.jsx)(t,{...i,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,o.jsx)(t,{...i,ref:n,children:r})});return n.displayName="".concat(e,".Slot"),n}("Primitive.".concat(t)),r=a.forwardRef((e,r)=>{let{asChild:i,...a}=e,s=i?n:t;return window[Symbol.for("radix-ui")]=!0,(0,o.jsx)(s,{...a,ref:r})});return r.displayName="Primitive.".concat(t),{...e,[t]:r}},{}),h=a.forwardRef((e,t)=>(0,o.jsx)(p.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));h.displayName="Label";var x=n(68273);let v=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,y=x.W;var b=n(22526);let j=a.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)(h,{ref:t,className:(0,b.cn)(N(),n),...r})});j.displayName=h.displayName;let N=(r="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e=>{var t;if((null==i?void 0:i.variants)==null)return y(r,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:n,defaultVariants:o}=i,a=Object.keys(n).map(t=>{let r=null==e?void 0:e[t],i=null==o?void 0:o[t];if(null===r)return null;let a=v(r)||v(i);return n[t][a]}),s=e&&Object.entries(e).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return y(r,a,null==i?void 0:null===(t=i.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...s}[t]):({...o,...s})[t]===n})?[...e,n,r]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});var w=n(64369),S=n(30106),k=n(66590),P=n(72078),A=n(28783),E="Switch",[C,F]=(0,S.b)(E),[T,M]=C(E),R=a.forwardRef((e,t)=>{let{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:l,disabled:d,value:u="on",onCheckedChange:m,form:f,...g}=e,[p,h]=a.useState(null),x=(0,c.e)(t,e=>h(e)),v=a.useRef(!1),y=!p||f||!!p.closest("form"),[b,j]=(0,k.T)({prop:i,defaultProp:null!=s&&s,onChange:m,caller:E});return(0,o.jsxs)(T,{scope:n,checked:b,disabled:d,children:[(0,o.jsx)(A.WV.button,{type:"button",role:"switch","aria-checked":b,"aria-required":l,"data-state":_(b),"data-disabled":d?"":void 0,disabled:d,value:u,...g,ref:x,onClick:(0,w.Mj)(e.onClick,e=>{j(e=>!e),y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),y&&(0,o.jsx)(D,{control:p,bubbles:!v.current,name:r,value:u,checked:b,required:l,disabled:d,form:f,style:{transform:"translateX(-100%)"}})]})});R.displayName=E;var O="SwitchThumb",B=a.forwardRef((e,t)=>{let{__scopeSwitch:n,...r}=e,i=M(O,n);return(0,o.jsx)(A.WV.span,{"data-state":_(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});B.displayName=O;var D=a.forwardRef((e,t)=>{let{__scopeSwitch:n,control:r,checked:i,bubbles:s=!0,...l}=e,d=a.useRef(null),u=(0,c.e)(d,t),m=function(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(i),f=function(e){let[t,n]=a.useState(void 0);return(0,P.b)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(r);return a.useEffect(()=>{let e=d.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==i&&t){let n=new Event("click",{bubbles:s});t.call(e,i),e.dispatchEvent(n)}},[m,i,s]),(0,o.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...l,tabIndex:-1,ref:u,style:{...l.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function _(e){return e?"checked":"unchecked"}D.displayName="SwitchBubbleInput";let L=a.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)(R,{className:(0,b.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...r,ref:t,children:(0,o.jsx)(B,{className:(0,b.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});L.displayName=R.displayName;var W=n(93628);function I(){let[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[i,s]=(0,a.useState)(null),c=async()=>{r(!0);try{let e=await l.oK.getSettings();t(e)}catch(e){console.error("Error fetching settings:",e),W.Am.error("Failed to load settings")}finally{r(!1)}};(0,a.useEffect)(()=>{c()},[]);let d=async e=>{s(e.id);try{let n=await l.oK.toggleEnabled(e.id);t(t=>t.map(t=>t.id===e.id?n:t)),W.Am.success("".concat(e.name," ").concat(n.enabled?"enabled":"disabled"))}catch(e){console.error("Error toggling setting:",e),W.Am.error("Failed to update setting")}finally{s(null)}},u=async e=>{s(e.id);try{let n=await l.oK.updateSettings(e.id,e);t(t=>t.map(t=>t.id===e.id?n:t)),W.Am.success("".concat(e.name," updated successfully"))}catch(e){console.error("Error updating setting:",e),W.Am.error("Failed to update setting")}finally{s(null)}},m=(e,n,r)=>{let i={...e,[n]:r};t(t=>t.map(t=>t.id===e.id?i:t)),setTimeout(()=>u(i),500)};return(0,o.jsxs)("div",{className:"container mx-auto py-6 max-w-4xl",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold",children:"Settings"}),(0,o.jsx)("p",{className:"text-muted-foreground",children:"Configure trading bot parameters"})]}),n?(0,o.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,o.jsx)("div",{className:"text-muted-foreground",children:"Loading settings..."})}):(0,o.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,o.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,o.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:"default"===e.name?"Default trading configuration":"".concat(e.name," strategy settings")})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(j,{htmlFor:"toggle-".concat(e.id),children:"Enabled"}),(0,o.jsx)(L,{id:"toggle-".concat(e.id),checked:e.enabled,onCheckedChange:()=>d(e),disabled:i===e.id})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)(j,{htmlFor:"slippage-".concat(e.id),children:["Max Slippage: ",(100*e.maxSlippage).toFixed(1),"%"]}),(0,o.jsx)("input",{id:"slippage-".concat(e.id),type:"range",min:"0.1",max:"10",step:"0.1",value:100*e.maxSlippage,onChange:t=>m(e,"maxSlippage",Number(t.target.value)/100),disabled:i===e.id,className:"w-full"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)(j,{htmlFor:"positions-".concat(e.id),children:["Max Positions: ",e.maxPositions]}),(0,o.jsx)("input",{id:"positions-".concat(e.id),type:"range",min:"1",max:"20",step:"1",value:e.maxPositions,onChange:t=>m(e,"maxPositions",Number(t.target.value)),disabled:i===e.id,className:"w-full"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)(j,{htmlFor:"stoploss-".concat(e.id),children:["Stop Loss: ",(100*e.stopLossPercent).toFixed(0),"%"]}),(0,o.jsx)("input",{id:"stoploss-".concat(e.id),type:"range",min:"1",max:"50",step:"1",value:100*e.stopLossPercent,onChange:t=>m(e,"stopLossPercent",Number(t.target.value)/100),disabled:i===e.id,className:"w-full"})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)(j,{htmlFor:"takeprofit-".concat(e.id),children:["Take Profit: ",(100*e.takeProfitPercent).toFixed(0),"%"]}),(0,o.jsx)("input",{id:"takeprofit-".concat(e.id),type:"range",min:"1",max:"500",step:"1",value:100*e.takeProfitPercent,onChange:t=>m(e,"takeProfitPercent",Number(t.target.value)/100),disabled:i===e.id,className:"w-full"})]}),(0,o.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,o.jsxs)(j,{htmlFor:"minburn-".concat(e.id),children:["Minimum Burn Amount: ",e.minBurnAmount.toLocaleString()]}),(0,o.jsx)("input",{id:"minburn-".concat(e.id),type:"range",min:"100",max:"1000000",step:"100",value:e.minBurnAmount,onChange:t=>m(e,"minBurnAmount",Number(t.target.value)),disabled:i===e.id,className:"w-full"})]})]}),i===e.id&&(0,o.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:"Saving..."})]},e.id))}),(0,o.jsxs)("div",{className:"mt-8 rounded-lg border bg-muted/50 p-6",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"Setting Descriptions"}),(0,o.jsxs)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("dt",{className:"font-medium text-foreground",children:"Max Slippage"}),(0,o.jsx)("dd",{className:"text-muted-foreground",children:"Maximum acceptable price slippage when executing trades (0.1% - 10%)"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("dt",{className:"font-medium text-foreground",children:"Max Positions"}),(0,o.jsx)("dd",{className:"text-muted-foreground",children:"Maximum number of concurrent open positions"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("dt",{className:"font-medium text-foreground",children:"Stop Loss"}),(0,o.jsx)("dd",{className:"text-muted-foreground",children:"Percentage drop from entry price to trigger automatic sell (1% - 50%)"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("dt",{className:"font-medium text-foreground",children:"Take Profit"}),(0,o.jsx)("dd",{className:"text-muted-foreground",children:"Percentage gain from entry price to trigger automatic sell (1% - 500%)"})]}),(0,o.jsxs)("div",{className:"md:col-span-2",children:[(0,o.jsx)("dt",{className:"font-medium text-foreground",children:"Minimum Burn Amount"}),(0,o.jsx)("dd",{className:"text-muted-foreground",children:"Minimum token burn amount to trigger a buy order (in tokens)"})]})]})]})]})}},24637:function(e,t,n){"use strict";async function r(e,t){let n="".concat("http://localhost:3000").concat(e);try{let e=await fetch(n,{headers:{"Content-Type":"application/json",...null==t?void 0:t.headers},...t});if(!e.ok){let t=await e.text();throw Error("API Error (".concat(e.status,"): ").concat(t||e.statusText))}return await e.json()}catch(t){throw console.error("API request failed: ".concat(e),t),t}}n.d(t,{KX:function(){return a},dK:function(){return o},oK:function(){return s},uk:function(){return i}});let i={getAll:()=>r("/workers"),getRunning:()=>r("/workers/running"),getErrors:()=>r("/workers/errors"),getStale:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return r("/workers/stale?olderThanMinutes=".concat(e))},getByName:e=>r("/workers/".concat(e))},o={getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/events?limit=".concat(e))},getBurns:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/events/burn?limit=".concat(e))},getLiquidity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/events/liquidity?limit=".concat(e))},getTrades:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/events/trades?limit=".concat(e))},getPositions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/events/positions?limit=".concat(e))},getPrices:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0;return r("/events/prices?limit=".concat(e).concat(t?"&token=".concat(t):""))}},a={getAll:()=>r("/positions"),getOpen:()=>r("/positions/open"),getClosed:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/positions/closed?limit=".concat(e))},getById:e=>r("/positions/".concat(e)),getByToken:e=>r("/positions/token/".concat(e)),getStats:()=>r("/positions/stats"),updatePrice:(e,t)=>r("/positions/".concat(e,"/price"),{method:"PUT",body:JSON.stringify({price:t})}),closePosition:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MANUAL";return r("/positions/".concat(e,"/close"),{method:"POST",body:JSON.stringify({exitPrice:t,reason:n})})}},s={getSettings:()=>r("/trading/settings"),getEnabledSettings:()=>r("/trading/settings/enabled"),getSettingsByName:e=>r("/trading/settings/".concat(e)),updateSettings:(e,t)=>r("/trading/settings/".concat(e),{method:"PUT",body:JSON.stringify(t)}),toggleEnabled:e=>r("/trading/settings/".concat(e,"/toggle"),{method:"PATCH"}),getTrades:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/trading/trades?limit=".concat(e))},getBuyTrades:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/trading/trades/buy?limit=".concat(e))},getSellTrades:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return r("/trading/trades/sell?limit=".concat(e))},getVolumeStats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return r("/trading/stats/volume?days=".concat(e))}}},22526:function(e,t,n){"use strict";n.d(t,{cn:function(){return o},i$:function(){return l},rl:function(){return s},uf:function(){return a},xG:function(){return c}});var r=n(68273),i=n(99842);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,r.W)(t))}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e>=1e6?"".concat((e/1e6).toFixed(t),"M"):e>=1e3?"".concat((e/1e3).toFixed(t),"K"):e.toFixed(t)}function s(e){return"".concat(e>=0?"+":"").concat(e.toFixed(2),"%")}function l(e){let t=new Date(e),n=new Date().getTime()-t.getTime();return n<6e4?"Just now":n<36e5?"".concat(Math.floor(n/6e4),"m ago"):n<864e5?"".concat(Math.floor(n/36e5),"h ago"):t.toLocaleDateString()}function c(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}}},function(e){e.O(0,[481,43,628,852,999,744],function(){return e(e.s=2691)}),_N_E=e.O()}]);