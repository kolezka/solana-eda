(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{34848:function(e,t,n){Promise.resolve().then(n.bind(n,37266))},37266:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var s=n(89075),i=n(50511),a=n(34641),r=n(49397),o=n(22526),c=n(24637),l=n(52904),d=n(30193);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);var m=n(48645);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,d.Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);function f(){let[e,t]=(0,i.useState)("all"),[n,d]=(0,i.useState)([]),[f,g]=(0,i.useState)(!0),[p,h]=(0,i.useState)(null),[v,y]=(0,i.useState)(!1),j=async()=>{g(!0);try{let t=[];switch(e){case"all":let n=await c.dK.getAll(50);t=[...n.burnEvents.map(e=>({...e,type:"burn"})),...n.liquidityEvents.map(e=>({...e,type:"liquidity"})),...n.tradeEvents.map(e=>({...e,type:"trade"})),...n.positionEvents.map(e=>({...e,type:"position"}))].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());break;case"burns":t=await c.dK.getBurns(100);break;case"liquidity":t=await c.dK.getLiquidity(100);break;case"trades":t=await c.dK.getTrades(100);break;case"positions":t=await c.dK.getPositions(100)}d(t)}catch(e){console.error("Error fetching events:",e)}finally{g(!1)}};(0,i.useEffect)(()=>{j()},[e]);let N=e=>{switch(e){case"burn":return(0,s.jsx)(l.Z,{className:"h-4 w-4 text-orange-500"});case"liquidity":return(0,s.jsx)(u,{className:"h-4 w-4 text-blue-500"});case"trade":return(0,s.jsx)(m.Z,{className:"h-4 w-4 text-green-500"});case"position":return(0,s.jsx)(x,{className:"h-4 w-4 text-purple-500"});default:return null}},b=e=>{switch(e){case"burn":return"Token Burn";case"liquidity":return"Liquidity Change";case"trade":return"Trade Executed";case"position":return"Position Update";default:return e}},w=t=>"burn"===t.type||"burns"===e?"".concat((0,o.uf)(t.amount)," ").concat(t.token," burned (").concat(t.percentage.toFixed(2),"%)"):"liquidity"===t.type||"liquidity"===e?"".concat(t.tokenA,"/").concat(t.tokenB,": TVL ").concat((0,o.xG)(t.tvl)):"trade"===t.type||"trades"===e?"".concat(t.type," ").concat((0,o.uf)(t.amount)," @ ").concat((0,o.xG)(t.price)):"position"===t.type||"positions"===e?"".concat(t.token,": ").concat((0,o.uf)(t.amount)," @ ").concat((0,o.xG)(t.entryPrice)," (P&L: ").concat(t.pnl>=0?"+":"").concat(t.pnl.toFixed(2),"%)"):"Unknown event type",k=e=>{h(e),y(!0)};return(0,s.jsxs)("div",{className:"container mx-auto py-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Events"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"View all blockchain and trading events"})]}),(0,s.jsxs)(a.mQ,{value:e,onValueChange:e=>t(e),children:[(0,s.jsxs)(a.dr,{className:"grid w-full grid-cols-5",children:[(0,s.jsx)(a.SP,{value:"all",children:"All"}),(0,s.jsx)(a.SP,{value:"burns",children:"Burns"}),(0,s.jsx)(a.SP,{value:"liquidity",children:"Liquidity"}),(0,s.jsx)(a.SP,{value:"trades",children:"Trades"}),(0,s.jsx)(a.SP,{value:"positions",children:"Positions"})]}),(0,s.jsx)(a.nU,{value:e,className:"mt-6",children:f?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"Loading events..."})}):0===n.length?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"No events found"})}):(0,s.jsxs)("div",{className:"rounded-lg border bg-card",children:[(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-4 border-b p-4 text-sm font-medium text-muted-foreground",children:[(0,s.jsx)("div",{children:"Type"}),(0,s.jsx)("div",{children:"Summary"}),(0,s.jsx)("div",{children:"Details"}),(0,s.jsx)("div",{children:"Timestamp"}),(0,s.jsx)("div",{children:"Signature"})]}),(0,s.jsx)("div",{className:"divide-y",children:n.map((t,n)=>(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-4 p-4 hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>k(t),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[N(t.type||e.slice(0,-1)),(0,s.jsx)("span",{className:"text-sm font-medium",children:b(t.type||e.slice(0,-1))})]}),(0,s.jsx)("div",{className:"text-sm",children:w(t)}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:t.token&&(0,s.jsxs)("span",{children:["Token: ",t.token.slice(0,8),"..."]})}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,o.i$)(t.timestamp||t.updatedAt)}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground font-mono",children:[(t.txSignature||t.signature||t.id||"").slice(0,8),"..."]})]},n))})]})})]}),(0,s.jsx)(r.Vq,{open:v,onOpenChange:y,children:(0,s.jsxs)(r.cZ,{className:"max-w-2xl",children:[(0,s.jsxs)(r.fK,{children:[(0,s.jsx)(r.$N,{children:"Event Details"}),(0,s.jsx)(r.Be,{children:"Full event information"})]}),p&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),(0,s.jsx)("p",{className:"mt-1",children:b(p.type||e.slice(0,-1))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Timestamp"}),(0,s.jsx)("p",{className:"mt-1",children:(0,o.i$)(p.timestamp||p.updatedAt)})]})]}),p.token&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Token"}),(0,s.jsx)("p",{className:"mt-1 font-mono",children:p.token})]}),p.amount&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),(0,s.jsx)("p",{className:"mt-1",children:(0,o.uf)(p.amount)})]}),void 0!==p.percentage&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Percentage"}),(0,s.jsxs)("p",{className:"mt-1",children:[p.percentage.toFixed(2),"%"]})]}),p.tvl&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"TVL"}),(0,s.jsx)("p",{className:"mt-1",children:(0,o.xG)(p.tvl)})]}),p.price&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),(0,s.jsx)("p",{className:"mt-1",children:(0,o.xG)(p.price)})]}),p.entryPrice&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Entry Price"}),(0,s.jsx)("p",{className:"mt-1",children:(0,o.xG)(p.entryPrice)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Price"}),(0,s.jsx)("p",{className:"mt-1",children:(0,o.xG)(p.currentPrice)})]})]}),void 0!==p.pnl&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"P&L"}),(0,s.jsxs)("p",{className:"mt-1 ".concat(p.pnl>=0?"text-green-500":"text-red-500"),children:[p.pnl>=0?"+":"",p.pnl.toFixed(2),"%"]})]}),(p.txSignature||p.signature)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Transaction Signature"}),(0,s.jsx)("p",{className:"mt-1 font-mono text-xs break-all",children:p.txSignature||p.signature})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Raw Data"}),(0,s.jsx)("pre",{className:"mt-2 text-xs bg-muted p-4 rounded overflow-auto max-h-48",children:JSON.stringify(p,null,2)})]})]})]})})]})}},49397:function(e,t,n){"use strict";n.d(t,{$N:function(){return u},Be:function(){return m},Vq:function(){return r},cN:function(){return x},cZ:function(){return l},fK:function(){return d}});var s=n(89075),i=n(50511),a=n(69);let r=a.fC;a.xz;let o=a.h_;a.x8;let c=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)(a.aV,{ref:t,className:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 ".concat(n||""),...i})});c.displayName=a.aV.displayName;let l=i.forwardRef((e,t)=>{let{className:n,children:i,...r}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(a.VY,{ref:t,className:"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg ".concat(n||""),...r,children:[i,(0,s.jsx)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,s.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})});l.displayName=a.VY.displayName;let d=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left ".concat(t||""),...n})};d.displayName="DialogHeader";let u=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)(a.Dx,{ref:t,className:"text-lg font-semibold leading-none tracking-tight ".concat(n||""),...i})});u.displayName=a.Dx.displayName;let m=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)(a.dk,{ref:t,className:"text-sm text-muted-foreground ".concat(n||""),...i})});m.displayName=a.dk.displayName;let x=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ".concat(t||""),...n})};x.displayName="DialogFooter"},34641:function(e,t,n){"use strict";n.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return r},nU:function(){return l}});var s=n(89075),i=n(50511),a=n(81141);let r=a.fC,o=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)(a.aV,{ref:t,className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground ".concat(n||""),...i})});o.displayName=a.aV.displayName;let c=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)(a.xz,{ref:t,className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm ".concat(n||""),...i})});c.displayName=a.xz.displayName;let l=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)(a.VY,{ref:t,className:"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ".concat(n||""),...i})});l.displayName=a.VY.displayName},24637:function(e,t,n){"use strict";async function s(e,t){let n="".concat("http://localhost:3000").concat(e);try{let e=await fetch(n,{headers:{"Content-Type":"application/json",...null==t?void 0:t.headers},...t});if(!e.ok){let t=await e.text();throw Error("API Error (".concat(e.status,"): ").concat(t||e.statusText))}return await e.json()}catch(t){throw console.error("API request failed: ".concat(e),t),t}}n.d(t,{KX:function(){return r},dK:function(){return a},oK:function(){return o},uk:function(){return i}});let i={getAll:()=>s("/workers"),getRunning:()=>s("/workers/running"),getErrors:()=>s("/workers/errors"),getStale:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return s("/workers/stale?olderThanMinutes=".concat(e))},getByName:e=>s("/workers/".concat(e))},a={getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/events?limit=".concat(e))},getBurns:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/events/burn?limit=".concat(e))},getLiquidity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/events/liquidity?limit=".concat(e))},getTrades:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/events/trades?limit=".concat(e))},getPositions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/events/positions?limit=".concat(e))},getPrices:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0;return s("/events/prices?limit=".concat(e).concat(t?"&token=".concat(t):""))}},r={getAll:()=>s("/positions"),getOpen:()=>s("/positions/open"),getClosed:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/positions/closed?limit=".concat(e))},getById:e=>s("/positions/".concat(e)),getByToken:e=>s("/positions/token/".concat(e)),getStats:()=>s("/positions/stats"),updatePrice:(e,t)=>s("/positions/".concat(e,"/price"),{method:"PUT",body:JSON.stringify({price:t})}),closePosition:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MANUAL";return s("/positions/".concat(e,"/close"),{method:"POST",body:JSON.stringify({exitPrice:t,reason:n})})}},o={getSettings:()=>s("/trading/settings"),getEnabledSettings:()=>s("/trading/settings/enabled"),getSettingsByName:e=>s("/trading/settings/".concat(e)),updateSettings:(e,t)=>s("/trading/settings/".concat(e),{method:"PUT",body:JSON.stringify(t)}),toggleEnabled:e=>s("/trading/settings/".concat(e,"/toggle"),{method:"PATCH"}),getTrades:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/trading/trades?limit=".concat(e))},getBuyTrades:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/trading/trades/buy?limit=".concat(e))},getSellTrades:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return s("/trading/trades/sell?limit=".concat(e))},getVolumeStats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return s("/trading/stats/volume?days=".concat(e))}}},22526:function(e,t,n){"use strict";n.d(t,{cn:function(){return a},i$:function(){return c},rl:function(){return o},uf:function(){return r},xG:function(){return l}});var s=n(68273),i=n(99842);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,s.W)(t))}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e>=1e6?"".concat((e/1e6).toFixed(t),"M"):e>=1e3?"".concat((e/1e3).toFixed(t),"K"):e.toFixed(t)}function o(e){return"".concat(e>=0?"+":"").concat(e.toFixed(2),"%")}function c(e){let t=new Date(e),n=new Date().getTime()-t.getTime();return n<6e4?"Just now":n<36e5?"".concat(Math.floor(n/6e4),"m ago"):n<864e5?"".concat(Math.floor(n/36e5),"h ago"):t.toLocaleDateString()}function l(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}},30193:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(50511),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),r=(e,t)=>{let n=(0,s.forwardRef)((n,r)=>{let{color:o="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=n;return(0,s.createElement)("svg",{ref:r,...i,width:c,height:c,stroke:o,strokeWidth:d?24*Number(l)/Number(c):l,className:["lucide","lucide-".concat(a(e)),u].join(" "),...x},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(m)?m:[m]])});return n.displayName="".concat(e),n}},52904:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(30193).Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},48645:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(30193).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},function(e){e.O(0,[481,43,670,852,999,744],function(){return e(e.s=34848)}),_N_E=e.O()}]);